# FAQ API スキーマ定義

このドキュメントは、microCMSで「FAQ」APIを作成するための完全なスキーマ定義です。

---

## API基本情報

| 項目 | 設定値 |
|------|--------|
| **API名** | よくある質問 |
| **エンドポイント** | `faq` |
| **種類** | **リスト形式** |

---

## フィールド定義

### 1. 質問 (question)

| 項目 | 設定値 |
|------|--------|
| **フィールドID** | `question` |
| **表示名** | 質問 |
| **種類** | テキストフィールド |
| **必須** | ✅ はい |
| **説明** | ユーザーからよくある質問の内容 |

---

### 2. 回答 (answer)

| 項目 | 設定値 |
|------|--------|
| **フィールドID** | `answer` |
| **表示名** | 回答 |
| **種類** | テキストエリア |
| **必須** | ✅ はい |
| **説明** | 質問に対する回答内容（複数行可） |

---

### 3. 表示順 (order)

| 項目 | 設定値 |
|------|--------|
| **フィールドID** | `order` |
| **表示名** | 表示順 |
| **種類** | 数値 |
| **必須** | ✅ はい |
| **説明** | FAQの表示順序（1から順に割り振る） |

---

### 4. 公開設定 (isPublished)

| 項目 | 設定値 |
|------|--------|
| **フィールドID** | `isPublished` |
| **表示名** | 公開設定 |
| **種類** | 真偽値 |
| **必須** | ✅ はい |
| **デフォルト値** | `true` |
| **説明** | 公開/非公開の切り替え |

---

## API作成手順

### ステップ1: API作成画面を開く

1. microCMS管理画面にログイン
2. 左サイドバーの「**API**」をクリック
3. 右上の「**＋ 作成**」ボタンをクリック

---

### ステップ2: API基本情報を入力

| 項目 | 入力値 |
|------|--------|
| API名 | `よくある質問` |
| エンドポイント | `faq` |
| API種別 | **リスト形式** を選択 ⚠️ |

> ⚠️ **重要**: 必ず「**リスト形式**」を選択してください！

「次へ」をクリック

---

### ステップ3: フィールドを追加

以下の順序でフィールドを追加してください。

#### 3-1. 質問フィールド

1. 「**フィールドを追加**」をクリック
2. 「**テキストフィールド**」を選択
3. 設定画面で以下を入力：
   - **フィールドID**: `question`
   - **表示名**: `質問`
   - **必須項目**: ✅ チェックを入れる
   - **説明**: `ユーザーからよくある質問の内容`
4. 「**決定**」をクリック

---

#### 3-2. 回答フィールド

1. 「**フィールドを追加**」をクリック
2. 「**テキストエリア**」を選択
3. 設定画面で以下を入力：
   - **フィールドID**: `answer`
   - **表示名**: `回答`
   - **必須項目**: ✅ チェックを入れる
   - **説明**: `質問に対する回答内容（複数行可）`
4. 「**決定**」をクリック

---

#### 3-3. 表示順フィールド

1. 「**フィールドを追加**」をクリック
2. 「**数値**」を選択
3. 設定画面で以下を入力：
   - **フィールドID**: `order`
   - **表示名**: `表示順`
   - **必須項目**: ✅ チェックを入れる
   - **説明**: `FAQの表示順序（1から順に割り振る）`
4. 「**決定**」をクリック

---

#### 3-4. 公開設定フィールド

1. 「**フィールドを追加**」をクリック
2. 「**真偽値**」を選択
3. 設定画面で以下を入力：
   - **フィールドID**: `isPublished`
   - **表示名**: `公開設定`
   - **必須項目**: ✅ チェックを入れる
   - **デフォルト値**: `true` にチェック
   - **説明**: `公開/非公開の切り替え`
4. 「**決定**」をクリック

---

### ステップ4: API設定を確認

フィールド一覧が以下の順序になっていることを確認：

```
1. question (テキストフィールド) - 必須
2. answer (テキストエリア) - 必須
3. order (数値) - 必須
4. isPublished (真偽値) - 必須
```

問題なければ「**作成**」をクリック

---

## API設定（オプション）

### 並び替え設定

API作成後、以下の設定を推奨：

1. API一覧から「よくある質問」APIをクリック
2. 右上の「**API設定**」をクリック
3. 「**並び替え**」タブで以下を設定：
   - **並び替えフィールド**: `order`
   - **並び順**: `昇順`
4. 「**保存**」をクリック

---

## 次のステップ

API作成が完了したら、以下のドキュメントを参照してデータを入力してください：

- **データ入力ガイド**: `docs/microcms-data-input-guide-faq.md`
- **参照データ**: `docs/microcms-data/faq.json`

---

## トラブルシューティング

### エンドポイント名が使えない

エンドポイント名は一意である必要があります。既に `faq` が存在する場合は、別の名前（例: `faq-items`）を使用してください。

### フィールドIDを間違えた

フィールドIDは作成後に変更できません。間違えた場合は、そのフィールドを削除して再作成してください。

### API種別を間違えた

API種別（リスト形式/オブジェクト形式）は後から変更できません。間違えた場合はAPIを削除して再作成してください。

---

**作成日**: 2025年10月16日  
**最終更新**: 2025年10月16日

