# サイト設定 API設定手順書

このドキュメントはmicroCMS管理画面で「サイト設定」APIを作成する手順を説明します。

## 基本情報

| 項目 | 設定値 |
|------|--------|
| **API名** | サイト設定 |
| **エンドポイント** | `site-config` |
| **API形式** | **オブジェクト形式** ⚠️ 重要 |

---

## 手順

### 1. APIの作成

1. microCMS管理画面にログイン
2. 左メニューから「APIを作成」をクリック
3. 以下を入力：
   - API名: `サイト設定`
   - エンドポイント: `site-config`
   - API形式: **オブジェクト形式** を選択 ⚠️
4. 「次へ」をクリック

---

### 2. APIスキーマの設定

以下のフィールドを**順番通り**に追加してください。

---

#### フィールド 1: サイト名

| 項目 | 設定値 |
|------|--------|
| フィールドID | `siteName` |
| 表示名 | サイト名 |
| 種類 | テキストフィールド |
| 必須 | ✅ ON |
| 説明 | サイト全体で使用される名称 |

---

#### フィールド 2: サイト説明

| 項目 | 設定値 |
|------|--------|
| フィールドID | `siteDescription` |
| 表示名 | サイト説明 |
| 種類 | テキストエリア |
| 必須 | ✅ ON |
| 説明 | メタディスクリプションに使用（120文字程度推奨） |

---

#### フィールド 3: サイトURL

| 項目 | 設定値 |
|------|--------|
| フィールドID | `siteUrl` |
| 表示名 | サイトURL |
| 種類 | テキストフィールド |
| 必須 | ✅ ON |
| 説明 | 本番環境のURL（例: https://example.com） |

---

#### フィールド 4: OGP画像

| 項目 | 設定値 |
|------|--------|
| フィールドID | `ogImage` |
| 表示名 | OGP画像 |
| 種類 | 画像 |
| 必須 | ❌ OFF |
| 説明 | SNSシェア時に表示される画像（1200x630px推奨） |

---

#### フィールド 5: ファビコン・ロゴ

| 項目 | 設定値 |
|------|--------|
| フィールドID | `logoImage` |
| 表示名 | ロゴ画像 |
| 種類 | 画像 |
| 必須 | ❌ OFF |
| 説明 | ヘッダーやSNSで使用（将来の拡張用） |

---

#### フィールド 6: キャッチコピー

| 項目 | 設定値 |
|------|--------|
| フィールドID | `catchphrase` |
| 表示名 | キャッチコピー |
| 種類 | テキストフィールド |
| 必須 | ✅ ON |
| 説明 | フッターやサイト説明に使用 |

---

#### フィールド 7: 連絡先メールアドレス

| 項目 | 設定値 |
|------|--------|
| フィールドID | `contactEmail` |
| 表示名 | 連絡先メールアドレス |
| 種類 | テキストフィールド |
| 必須 | ✅ ON |
| 説明 | お問い合わせ用メールアドレス |

---

#### フィールド 8: 電話番号

| 項目 | 設定値 |
|------|--------|
| フィールドID | `phone` |
| 表示名 | 電話番号 |
| 種類 | テキストフィールド |
| 必須 | ✅ ON |
| 説明 | 例: 03-6709-2308 |

---

#### フィールド 9: 郵便番号

| 項目 | 設定値 |
|------|--------|
| フィールドID | `postalCode` |
| 表示名 | 郵便番号 |
| 種類 | テキストフィールド |
| 必須 | ✅ ON |
| 説明 | 例: 170-0013 |

---

#### フィールド 10: 住所

| 項目 | 設定値 |
|------|--------|
| フィールドID | `address` |
| 表示名 | 住所 |
| 種類 | テキストエリア |
| 必須 | ✅ ON |
| 説明 | 郵便番号以降の住所（改行可） |

---

#### フィールド 11: Google Analytics ID

| 項目 | 設定値 |
|------|--------|
| フィールドID | `googleAnalyticsId` |
| 表示名 | Google Analytics ID |
| 種類 | テキストフィールド |
| 必須 | ❌ OFF |
| 説明 | GA4測定ID（例: G-XXXXXXXXXX） |

---

### 3. APIの保存

1. すべてのフィールドを追加したら「保存」をクリック
2. APIが作成されます

⚠️ **重要**: オブジェクト形式のため、コンテンツは **1つだけ** 作成します。

---

## 次のステップ

APIの作成が完了したら、次は **データの入力** を行います。

`docs/microcms-data/site-config.json` を参照して、サイト設定を入力してください。

---

## トラブルシューティング

### API形式を間違えた場合

オブジェクト形式にするべきところをリスト形式にした場合、APIを削除して再作成してください。

### フィールドIDを間違えた場合

フィールドIDは後から変更できません。削除して再作成してください。

### 画像がアップロードできない

- ファイルサイズが大きすぎる場合は、事前に圧縮してください
- 対応フォーマット: JPEG, PNG, WebP

---

**作成日**: 2025年10月1日  
**対象API**: site-config  
**形式**: オブジェクト

