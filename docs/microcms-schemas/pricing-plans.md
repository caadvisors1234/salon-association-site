# 料金プラン API設定手順書

このドキュメントはmicroCMS管理画面で「料金プラン」APIを作成する手順を説明します。

## 基本情報

| 項目 | 設定値 |
|------|--------|
| **API名** | 料金プラン |
| **エンドポイント** | `pricing-plans` |
| **API形式** | リスト形式 |

---

## 手順

### 1. APIの作成

1. microCMS管理画面にログイン
2. 左メニューから「APIを作成」をクリック
3. 以下を入力：
   - API名: `料金プラン`
   - エンドポイント: `pricing-plans`
   - API形式: **リスト形式** を選択
4. 「次へ」をクリック

### 2. APIスキーマの設定

以下のフィールドを**順番通り**に追加してください。

---

#### フィールド 1: プラン名

| 項目 | 設定値 |
|------|--------|
| フィールドID | `name` |
| 表示名 | プラン名 |
| 種類 | テキストフィールド |
| 必須 | ✅ ON |

---

#### フィールド 2: 価格

| 項目 | 設定値 |
|------|--------|
| フィールドID | `price` |
| 表示名 | 価格 |
| 種類 | テキストフィールド |
| 必須 | ✅ ON |
| 説明 | 例: 29800（数字のみ、カンマなし） |

---

#### フィールド 3: 価格注釈

| 項目 | 設定値 |
|------|--------|
| フィールドID | `priceAnnotation` |
| 表示名 | 価格注釈 |
| 種類 | テキストフィールド |
| 必須 | ✅ ON |
| 説明 | 例: 円/月、円/1口 など |

---

#### フィールド 4: 説明

| 項目 | 設定値 |
|------|--------|
| フィールドID | `description` |
| 表示名 | 説明 |
| 種類 | テキストエリア |
| 必須 | ✅ ON |
| 説明 | プランの簡単な説明（1行） |

---

#### フィールド 5: 特徴リスト

| 項目 | 設定値 |
|------|--------|
| フィールドID | `features` |
| 表示名 | 特徴リスト |
| 種類 | **繰り返しフィールド** |
| 必須 | ✅ ON |
| 説明 | プランの特徴を複数追加できます |

**設定方法**:
1. フィールド種類で「繰り返しフィールド」を選択
2. 「カスタムフィールドを使用」を選択
3. カスタムフィールドの設定画面で以下のフィールドを追加：
   - フィールドID: `text`
   - 表示名: 特徴
   - 種類: テキストフィールド
   - 必須: ON
4. カスタムフィールドを保存
5. 繰り返しフィールドを保存

---

#### フィールド 6: CTAボタンテキスト

| 項目 | 設定値 |
|------|--------|
| フィールドID | `cta` |
| 表示名 | CTAボタンテキスト |
| 種類 | テキストフィールド |
| 必須 | ✅ ON |
| 説明 | ボタンに表示されるテキスト |

---

#### フィールド 7: リンク先

| 項目 | 設定値 |
|------|--------|
| フィールドID | `href` |
| 表示名 | リンク先 |
| 種類 | テキストフィールド |
| 必須 | ✅ ON |
| 説明 | 例: /contact?plan=light |

---

#### フィールド 8: おすすめフラグ

| 項目 | 設定値 |
|------|--------|
| フィールドID | `isFeatured` |
| 表示名 | おすすめプラン |
| 種類 | 真偽値 |
| 必須 | ❌ OFF |
| 説明 | ONにするとプランが強調表示されます |

---

#### フィールド 9: 表示順

| 項目 | 設定値 |
|------|--------|
| フィールドID | `order` |
| 表示名 | 表示順 |
| 種類 | 数値 |
| 必須 | ✅ ON |
| 説明 |  |
小さい数字ほど先に表示されます（1, 2, 3...）
---

### 3. APIの保存

1. すべてのフィールドを追加したら「保存」をクリック
2. APIが作成されます

---

## 次のステップ

APIの作成が完了したら、次は **データの入力** を行います。

`docs/microcms-data/pricing-plans.json` を参照して、4つのプランを入力してください。

---

## トラブルシューティング

### フィールドIDを間違えた場合

フィールドIDは後から変更できません。削除して再作成してください。

### 必須項目を忘れた場合

後から「API設定」→「APIスキーマ」から編集できます。

### 繰り返しフィールドの設定がわからない

1. フィールド種類で「繰り返しフィールド」を選択
2. 「カスタムフィールドを使用」を選択
3. カスタムフィールド内に「text」という名前のテキストフィールドを1つ作成
4. これで各特徴を個別に追加・編集できます

---

**作成日**: 2025年10月1日  
**対象API**: pricing-plans


